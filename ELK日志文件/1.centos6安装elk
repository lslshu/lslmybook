官方网站
https://www.elastic.co
学习elk文档：https://zturn.cc/elkbook/
需要java的支持，1G以上内存
yum install java-1.8.0-openjdk*
内存置换
swapoff -a
dd if=/dev/zero of=/home/swap bs=1M count=2048 
/sbin/mkswap -f /home/swap
/sbin/swapon -f /home/swap
echo "/home/swap swap swap defaults 0 0" >> /etc/fstab

下载安装Logstash
rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch
cat > /etc/yum.repos.d/logstash.repo <<EOF
[logstash-7.x]
name=Elastic repository for 7.x packages
baseurl=https://artifacts.elastic.co/packages/7.x/yum
gpgcheck=1
gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
enabled=1
autorefresh=1
type=rpm-md
EOF
yum clean all
yum install logstash -y

输入hello world
[root@162 ~]# whereis logstash
logstash: /etc/logstash /usr/share/logstash
运行命令来启动 Logstash 进程
bin/logstash -e 'input{stdin{}}output{stdout{codec=>rubydebug}}'
出现终端输入hello world 
{
       "message" => "hello world",
    "@timestamp" => 2019-09-06T08:39:43.883Z,
          "host" => "162.211.227.29.16clouds.com",
      "@version" => "1"
}
测试机只有一个cpu，所以报警
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N

报错
{:timestamp=>"2019-09-06T03:56:37.617000-0400", :message=>"No config files found: /etc/logstash/conf.d/*\nCan you make sure this path is a logstash config file?", :level=>:error}
/etc/logstash/conf.d没有文件，创建一个新的文件
touch empty.conf
报错
WARNING: Could not find logstash.yml which is typically located in $LS_HOME/config or /etc/logstash. You can specify the path using --path.settings. Continuing using the defaults
解决办法
mkdir -p config
chown -R logstash:logstash config
cp -r /etc/logstash/logstash.yml /usr/share/logstash/config/
bin/logstash -e 'input{stdin{}}output{stdout{codec=>rubydebug}}'



报错
Sending logstash logs to /var/log/logstash/logstash.log.
进入报错查看

